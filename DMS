#include <iostream>
#include <vector>
#include <string>
#include <direct.h>

using namespace std;


void list_file();
void directory();
void change_dir();


int main(int argc, char** argv) {
    
    while(true) {
        int menu;

        cout <<"        MAIN MENU \n" ;
        cout <<"--------------------------\n" ;

        cout <<" 1. To Display List of Files. \n";
        cout <<" 2. To Create New Directory. \n";
        cout <<" 3. To Change the Working Directory. \n";
        cout <<" 4. Exit. \n";
        cout <<"Enter the Number: ";
        cin >> menu;
        cout <<"\n";

        switch (menu) {
        case 1:
            list_file();
            break;

        case 2:
            directory();
           break;
        case 3:
           break;
        case 4:
           cout <<"Exiting program...";
           return 0;
        default:
           cout <<"INVALID OPTION\n";
           cout <<"\n";
        }
    }

    return 0;
}
void list_file(){ //1
    int files;
    cout <<"        LIST FILE DETAIL \n";
    cout <<"---------------------------------\n";
    cout <<"1. List All Files\n";
    cout <<"2. List of Extension Files\n";
    cout <<"3. List of Name Wise\n";
    cout <<" Enter the Number: ";
    cin >> files;
    switch (files) {
    case 1:
       cout <<"\n";
       cout <<"List of All File \n";
       for (int n = 0; n < listnames.size(); ++n) {
           cout << listnames[n] << "\n";
       }
       cout <<"(continue...)";
       cin.ignore();
       cin.get();
       cout <<" \n";
       cout <<"Total Files: " << listnames.size() -1 << endl;
       cout <<" Press any key to continue...";
       cout <<"\n";
       cin.get();
       break;
    }
   // case 2:
    //	cout<<""
}




void directory(){ //2
    string name;
    cout << "Enter the Directory name: ";	
	getline(cin, name);
    
	if (_mkdir(name.c_str()) == 0) {
        cout<< name << "Directory created successfully.\n";
    } else {
        cout << "Failed to create directory.\n";
    }
	cout<<"Press any key to continue...";
	cin.get();

}
void change_dir() {
    int option;
    cout << "        CHANGE DIRECTORY \n";
    cout << "--------------------------\n";
    cout << "1. Move one step back (to the parent directory).\n";
    cout << "2. Move to the root directory.\n";
    cout << "3. Move to a specific directory.\n";
    cout << "Enter the Number: ";
    cin >> option;

    string newDir;
    switch (option) {
        case 1: {
            
            if (_chdir("..") == 0) {
                cout << "Moved to the parent directory.\n";
            } else {
                cout << "Failed to move to the parent directory.\n";
            }
            break;
        }
        case 2: {
            if (_chdir("C:\\") == 0) { 
                cout << "Moved to the root directory.\n";
            } else {
                cout << "Failed to move to the root directory.\n";
            }
            break;
        }
        case 3: {
            
            cout << "Enter the path of the directory to change to: ";
            getline(cin, newDir);

            if (_chdir(newDir.c_str()) == 0) {
                cout << "Successfully changed directory to " << newDir << ".\n";
            } else {
                cout << "Failed to change directory.\n";
            }
            break;
        }
        default:
            cout << "Invalid option.\n";
            break;
    }

    cout << "Press any key to continue...";
    cin.get();
}
